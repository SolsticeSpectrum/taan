import { MusicPlayer } from "player.slint";
import { LoginWindow } from "login.slint";
import { Colors } from "components/common/colors.slint";
import "../resources/fonts/Inter-Regular.ttf";
import { AppState } from "state.slint";

export { AppState } from "state.slint";

export component MainWindow inherits Window {
    title: "Taan";
    min-width: 672px;
    min-height: 300px;
    background: Colors.background-primary;
    default-font-family: "Inter";
    
    
    
    // Show appropriate view based on authentication state
    if !AppState.loggedIn: LoginWindow {
        preferred-width: parent.width;
        preferred-height: parent.height;
    }
    if AppState.loggedIn: MusicPlayer {
        preferred-width: parent.width;
        preferred-height: parent.height;
    }
    
    // Initialize app on startup
    init => {
        AppState.initialize-app();
    }
}
