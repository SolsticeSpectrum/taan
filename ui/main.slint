import { Header, AuthState } from "header.slint";
import { Sidebar } from "sidebar.slint";
import { MainContent } from "main-content.slint";
import { PlayerControls } from "player-controls.slint";
import { VerticalBox, HorizontalBox, ScrollView, Palette, StyleMetrics } from "std-widgets.slint";

export component MainWindow inherits Window {
    preferred-width: 1200px;
    preferred-height: 800px;
    min-width: 800px;
    min-height: 600px;
    title: "Taan - Spotify Music Player";
    
    // Main layout container
    VerticalBox {
        spacing: 0px;
        
        // Top header section
        Header {
            height: 60px;
            authenticated: AuthState.LoggedIn;
            username: "Music Lover";
            can-go-back: true;
            can-go-forward: false;
            login-clicked => {
                debug("Login clicked");
            }
            search-changed(text) => {
                debug("Search changed: " + text);
            }
            search-submitted(text) => {
                debug("Search submitted: " + text);
            }
            back-clicked => {
                debug("Back clicked");
            }
            forward-clicked => {
                debug("Forward clicked");
            }
            profile-clicked => {
                debug("Profile clicked");
            }
        }
        
        // Main content area (sidebar + content + player)
        Rectangle {
            background: Palette.background;
            vertical-stretch: 1;
            HorizontalBox {
                spacing: 0px;
                
                // Left sidebar
                sidebar := Sidebar {
                    vertical-stretch: 1;
                    nav-item-clicked(item) => {
                        debug("Navigation item clicked: " + item);
                    }
                    playlist-clicked(playlist) => {
                        debug("Playlist clicked: " + playlist);
                    }
                }
                
                // Main content area
                main-content := MainContent {
                    horizontal-stretch: 1;
                    vertical-stretch: 1;
                    card-clicked(name) => {
                        debug("Card clicked: " + name);
                    }
                    play-clicked(name) => {
                        debug("Play clicked: " + name);
                    }
                    show-all-clicked(section) => {
                        debug("Show all clicked: " + section);
                    }
                }
            }
        }
        
        // Bottom player controls
        player-controls := PlayerControls {
            track-title: "Blinding Lights";
            track-artist: "The Weeknd";
            track-album: "After Hours";
            is-playing: true;
            progress: 42.5;
            play-pause-clicked => {
                self.is-playing = !self.is-playing;
                debug("Play/Pause clicked");
            }
            next-clicked => {
                debug("Next track clicked");
            }
            previous-clicked => {
                debug("Previous track clicked");
            }
            shuffle-clicked => {
                self.is-shuffled = !self.is-shuffled;
                debug("Shuffle clicked");
            }
            repeat-clicked => {
                self.is-repeat = !self.is-repeat;
                debug("Repeat clicked");
            }
            volume-changed(vol) => {
                debug("Volume changed to: " + vol);
            }
            seek(pos) => {
                self.progress = pos;
                debug("Seek to: " + pos + "%");
            }
            like-clicked => {
                debug("Like clicked");
            }
        }
    }
}
